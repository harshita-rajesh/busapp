{"ast":null,"code":"var _jsxFileName = \"/home/user/Desktop/Week-0/MERN-main/frontend/src/components/Busform.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AddBus = () => {\n  _s();\n  const [name, setName] = useState('');\n  const [from, setFrom] = useState('');\n  const [to, setTo] = useState('');\n  const [totalSeats, setTotalSeats] = useState('');\n  const [priceperseat, setPriceperseat] = useState('');\n  const [message, setMessage] = useState('');\n  const handleAddBus = async e => {\n    e.preventDefault();\n\n    // Basic validation\n    if (!name || !from || !to || !totalSeats || !priceperseat) {\n      setMessage('All fields are required.');\n      return;\n    }\n\n    // Check that totalSeats and priceperseat are positive numbers\n    if (totalSeats <= 0 || priceperseat <= 0) {\n      setMessage('Total Seats and Price per Seat must be positive numbers.');\n      return;\n    }\n    try {\n      const response = await axios.post('/api/buses/add', {\n        name,\n        from,\n        to,\n        totalSeats: parseInt(totalSeats),\n        // Ensure it's a number\n        priceperseat: parseFloat(priceperseat) // Ensure it's a number\n      });\n      setMessage(response.data.message || 'Bus added successfully!');\n      // Optionally, reset the form after success\n      setName('');\n      setFrom('');\n      setTo('');\n      setTotalSeats('');\n      setPriceperseat('');\n    } catch (error) {\n      var _error$response, _error$response$data;\n      setMessage(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Failed to add bus');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Add Bus\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleAddBus,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Bus Name:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: name,\n          onChange: e => setName(e.target.value),\n          placeholder: \"Enter Bus Name\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"From:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: from,\n          onChange: e => setFrom(e.target.value),\n          placeholder: \"Enter From Location\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"To:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: to,\n          onChange: e => setTo(e.target.value),\n          placeholder: \"Enter To Location\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Total Seats:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: totalSeats,\n          onChange: e => setTotalSeats(e.target.value),\n          placeholder: \"Enter Total Seats\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Price per Seat:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: priceperseat,\n          onChange: e => setPriceperseat(e.target.value),\n          placeholder: \"Enter Price per Seat\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Add Bus\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 19\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n};\n_s(AddBus, \"cXBHAE+vM/vtmhxh6DIHqiVjoGI=\");\n_c = AddBus;\nexport default AddBus;\nvar _c;\n$RefreshReg$(_c, \"AddBus\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","AddBus","_s","name","setName","from","setFrom","to","setTo","totalSeats","setTotalSeats","priceperseat","setPriceperseat","message","setMessage","handleAddBus","e","preventDefault","response","post","parseInt","parseFloat","data","error","_error$response","_error$response$data","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","value","onChange","target","placeholder","required","_c","$RefreshReg$"],"sources":["/home/user/Desktop/Week-0/MERN-main/frontend/src/components/Busform.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\nconst AddBus = () => {\n  const [name, setName] = useState('');\n  const [from, setFrom] = useState('');\n  const [to, setTo] = useState('');\n  const [totalSeats, setTotalSeats] = useState('');\n  const [priceperseat, setPriceperseat] = useState('');\n  const [message, setMessage] = useState('');\n\n  const handleAddBus = async (e) => {\n    e.preventDefault();\n\n    // Basic validation\n    if (!name || !from || !to || !totalSeats || !priceperseat) {\n      setMessage('All fields are required.');\n      return;\n    }\n\n    // Check that totalSeats and priceperseat are positive numbers\n    if (totalSeats <= 0 || priceperseat <= 0) {\n      setMessage('Total Seats and Price per Seat must be positive numbers.');\n      return;\n    }\n\n    try {\n      const response = await axios.post('/api/buses/add', {\n        name,\n        from,\n        to,\n        totalSeats: parseInt(totalSeats),  // Ensure it's a number\n        priceperseat: parseFloat(priceperseat),  // Ensure it's a number\n      });\n\n      setMessage(response.data.message || 'Bus added successfully!');\n      // Optionally, reset the form after success\n      setName('');\n      setFrom('');\n      setTo('');\n      setTotalSeats('');\n      setPriceperseat('');\n    } catch (error) {\n      setMessage(error.response?.data?.message || 'Failed to add bus');\n    }\n  };\n\n  return (\n    <div>\n      <h1>Add Bus</h1>\n      <form onSubmit={handleAddBus}>\n        <div>\n          <label>Bus Name:</label>\n          <input\n            type=\"text\"\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n            placeholder=\"Enter Bus Name\"\n            required\n          />\n        </div>\n        <div>\n          <label>From:</label>\n          <input\n            type=\"text\"\n            value={from}\n            onChange={(e) => setFrom(e.target.value)}\n            placeholder=\"Enter From Location\"\n            required\n          />\n        </div>\n        <div>\n          <label>To:</label>\n          <input\n            type=\"text\"\n            value={to}\n            onChange={(e) => setTo(e.target.value)}\n            placeholder=\"Enter To Location\"\n            required\n          />\n        </div>\n        <div>\n          <label>Total Seats:</label>\n          <input\n            type=\"number\"\n            value={totalSeats}\n            onChange={(e) => setTotalSeats(e.target.value)}\n            placeholder=\"Enter Total Seats\"\n            required\n          />\n        </div>\n        <div>\n          <label>Price per Seat:</label>\n          <input\n            type=\"number\"\n            value={priceperseat}\n            onChange={(e) => setPriceperseat(e.target.value)}\n            placeholder=\"Enter Price per Seat\"\n            required\n          />\n        </div>\n        <button type=\"submit\">Add Bus</button>\n      </form>\n\n      {message && <p>{message}</p>}\n    </div>\n  );\n};\n\nexport default AddBus;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}